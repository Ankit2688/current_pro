<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet"  href="jquery.datetimepicker.min.css"/>
<script src="jquery.js"></script>
<script src="jquery.datetimepicker.full.js"></script>
</head>
<body>
	<h3>Date & Time</h3>
	<input type="text" value="" id="datetimepicker"/><br><br>
	
	<h3>Date Range</h3>
	<p><input type = "text" id = "fromDate"/>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type = "text" id = "toDate"/></p>
</body>

	<div class="fluid-container">
					<div class="row">
						<div class="col-sm-6">
							<div class="card shadow mb-4">
								<div class="card-header py-3">
								  <h6 class="font-weight-bold default-text-primary">Events Types to include in search:</h6>
								</div>
								<div class="card-body">
									<div class="row">
										<div class="col-sm-12 eventCls">
										<!--dynamically add the checkbox with labels for event types-->	
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="card shadow mb-4">
								<div class="card-header py-3">
								  <h6 class=" font-weight-bold default-text-primary">Devices to include in search:</h6>
								</div>
								<div class="card-body">
								<div class="row">
										<div class="col-sm-12 devicesCls">
										<!--dynamically add the checkbox with labels Devices-->	
										</div>
									</div>
								</div>
							</div>
						</div>	
					</div>
				</div>

<script>
$(function(){
	$('#datetimepicker').datetimepicker({
		dayOfWeekStart : 1
	});
});

$(function(){
	var from = $("#fromDate").datetimepicker({
			}).on("change",function(){
				var element_value = this.value;
				var hours = element_value.split(" ")[1].split(":");					
				var day = (parseInt(hours[0]) >= 12 && parseInt(hours[1]) >=0)? "PM" :"AM" ;
				$(this).val(this.value+" "+day);
				var to_min_date = getDate(this);
				$("#toDate").datetimepicker({
					minDate :to_min_date,
					startDate:to_min_date
				});
			});
			
	var	to = $("#toDate").datetimepicker({
			}).on("change",function(){
				var selected_value = this.value;
				var to_hours = selected_value.split(" ")[1].split(":");
				var to_day = (parseInt(to_hours[0]) >= 12 && parseInt(to_hours[1]) >=0)? "PM" :"AM" ;
				$(this).val(this.value+" "+to_day);
				$("#fromDate").datetimepicker({
				});
			});
			
			
function getDate(element){
		var date ;
		try{
			from_date = element.value;
			var date = from_date.split(" ")[0];
		}
		catch(error){
			date = null;
		}
	return date;	
	}
	
	
		var eventDataArray = ["1","2","3"];
		var devicesDataArray = ["1","2","3"];
		for(var i = 0 ; i< eventDataArray.length;i++){
			$('<input/>',{type:'checkbox',id:'chk'+i,value:i,class : 'col-sm-3 mt-10'}).appendTo(".eventCls");
			$('<label />', { 'for': 'chk'+i, text: eventDataArray[i], class : 'col-sm-3 mt-10' }).appendTo(".eventCls");
		}

		for(var i = 0 ; i< devicesDataArray.length;i++){
			$('<input/>',{type:'checkbox',id:'devices'+i,value:i,class : 'col-sm-3 mt-10'}).appendTo(".devicesCls");
			$('<label />', { 'for': 'devices'+i, text: devicesDataArray[i], class : 'col-sm-3 mt-10' }).appendTo(".devicesCls");
		}
    });
		




</script>
</html>
